<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Productos</title>
    <link rel="stylesheet" href="/css/productos.css">
</head>
<body>
    <header>
        <h1>Gestión de Productos</h1>
        <nav>
            <a href="/envios/">Gestionar envios</a>
            <a href="/">Salir</a>
        </nav>
    </header>

    <section class="acciones">
        <button class="btn" onclick="mostrarFormulario()">Agregar Producto</button>
    </section>
    <div style="display: flex; justify-content: ;center; align-items: center; flex-direction: column;">
        <section id="formulario-producto" class="formulario-oculto" width="20%">
            <h2 id="titulo-formulario">Agregar Producto</h2>
            <input type="number" id="editando-id" placeholder="codigo de barras">
            <input type="text" id="Marca" placeholder="Marca del producto" required>
            <input type="text" id="nombre" placeholder="Nombre del producto" required>
            <input type="number" id="precio" placeholder="Precio" required>
            <input type="number" id="stock" placeholder="Stock" required>
            <input type="file" id="foto" accept="image/*">
            <button onclick="guardarProducto()">Guardar</button>
            <button onclick="cancelarEdicion()">Cancelar</button>
        </section>
    </div>

    <section class="lista-productos">
        <h2>Lista de Productos</h2>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Stock</th>
                    <th>Foto</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="tabla-productos">
    <tr th:each="producto : ${productos}">
        <td th:text="${producto.barcode}">Codigo</td>
        <td th:text="${producto.nombre}">Nombre</td>
        <td th:text="${producto.precio}">Precio</td>
        <td th:text="${producto.stock}">Stock</td>
        <td>
            <img th:src="@{{foto}(foto=${producto.foto})}" alt="Foto del producto" width="50">
        </td>
        <td>
            <button class="btn-editar" th:data-id="${producto.barcode}" onclick="editarProducto(this)">Editar</button>
            <button class="btn-eliminar" th:data-id="${producto.barcode}" onclick="eliminarProducto(this)">Eliminar</button>
        </td>
    </tr>
</tbody>
        </table>
    </section>

    <script src="/css/js/productos.js"></script>
</body>
</html>
